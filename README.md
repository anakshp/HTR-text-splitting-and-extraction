# HTR-text-splitting-and-extraction
This repository contains Python scripts developed for a project with the Noord-Hollands Archief. The pipeline processes HTR-transcribed historical court records by:  
1. Splitting long OCR/HTR text files into individual verdicts
2. Extracting structured metadata from each verdict using OpenAI API.

## Pipeline Overview

### 1. Verdict Splitting (`split_verdicts.py`)
- Input: Long `.txt` files generated by HTR systems
- Method: Fuzzy matching on a configurable split phrase (e.g. “Vonnis”)
- Output: CSV with line-level text grouped by verdict number

This approach is robust to OCR/HTR noise and spelling variation.

---

### 2. Information Extraction (`extract_verdicts.py`)
- Input: CSV produced by the splitting step
- Method: OpenAI GPT-4o-mini
- Output: Structured CSV with metadata per verdict

Extracted fields include:
- Court, date, location
- Parties involved
- Crime type and sentence
- Summary and keywords

All missing information is explicitly marked as `N/B`.

*Designed for Dutch historical court records
*Optimized for noisy HTR output
*AI output should be reviewed by domain experts
